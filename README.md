# YouTube Thumbnail gRPC Service

## Описание
gRPC-сервис для загрузки превью видеороликов YouTube. При повторном запросе для одного и того же видео возвращается закэшированное изображение из SQLite.

## Особенности
- Кэширование запросов с использованием SQLite.
- Асинхронная загрузка изображений через CLI с флагом `--async`.
- Реализация с использованием `gRPC` и `Protobuf`.

---

## Установка и запуск

### Предварительные требования
- Установленный Go (версии 1.20 и выше)
- `protoc` (Protocol Buffers Compiler)
- SQLite3

### Шаги установки
Клонируйте репозиторий:
   ```git clone <repository_url>
cd thumbnail-service
Установите зависимости:

```go mod tidy
Сгенерируйте gRPC-код из .proto:

```protoc --go_out=. --go-grpc_out=. proto/thumbnail.proto

Запуск сервера
Запустите сервер:

```go run cmd/server/main.go
Сервер начнет слушать на localhost:50051.

## Возможные ошибки
1. Error downloading thumbnail: read tcp: wsarecv: An existing connection was forcibly closed by the remote host.
Причины ошибки:
   1. Проблемы с сетью:
      Сетевые сбои или нестабильное подключение могут вызвать такие ошибки. Это может быть связано с плохим интернет-соединением или проблемами с сервером.
   2. Проблемы с сервером:
      Возможно, удаленный сервер (например, YouTube или другой сервис) временно закрыл соединение из-за нагрузки или по другой причине.
   3.Ограничения на стороне сервера:
      Сервер может закрыть соединение из-за превышения лимитов или сессий, например, при массовых запросах или слишком частых подключениях.
   4.Проблемы с прокси или фаерволлом:
      Если вы используете прокси или фаервол, они могут блокировать или ограничивать подключение к удаленным хостам, что может привести к принудительному закрытию соединения.
   5. Timeout или другие настройки сети:
      Если ваше приложение или сервер имеет слишком короткое время ожидания (timeout), соединение может быть закрыто, если сервер не отвечает вовремя.

